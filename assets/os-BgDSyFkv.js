import{C as m}from"./config-DbozOtjD.js";var r=n=>{let t="";return n.forEach(e=>{e.type==="text"?t+=h(e):e.type==="link"?t+=`<a href="${e.url}">${r(e.children)}</a>`:e.type==="list-item"?t+=`<li>${r(e.children)}</li>`:e.type==="list"&&(t+=o(e))}),t},h=n=>{let t=n.text;return n.bold&&(t=`<strong>${t}</strong>`),n.italic&&(t=`<em>${t}</em>`),n.underline&&(t=`<u>${t}</u>`),n.strikethrough&&(t=`<s>${t}</s>`),n.code&&(t=`<code>${t}</code>`),t},o=n=>{const t=[];let e=null;const u=()=>{e&&e.length>0&&(t.push(`<li>${e.join("")}</li>`),e=null)};n.children.forEach(a=>{if(a.type==="list-item")u(),e=[r(a.children)];else if(a.type==="list"){const c=o(a);e?e.push(c):t.push(`<li>${c}</li>`)}}),u();const p=n.format==="ordered"?"ol":"ul";return`<${p}>${t.join("")}</${p}>`},y=n=>{if(!n)return"";let t="";return n.forEach(e=>{if(e.type==="paragraph")t+=`<p>${r(e.children)}</p>`;else if(e.type==="quote")t+=`<blockquote>${r(e.children)}</blockquote>`;else if(e.type==="code")t+=`<pre><code>${r(e.children)}</code></pre>`;else if(e.type==="heading")switch(e.level){case 1:t+=`<h1>${r(e.children)}</h1>`;return;case 2:t+=`<h2>${r(e.children)}</h2>`;return;case 3:t+=`<h3>${r(e.children)}</h3>`;return;case 4:t+=`<h4>${r(e.children)}</h4>`;return;case 5:t+=`<h5>${r(e.children)}</h5>`;return;case 6:t+=`<h6>${r(e.children)}</h6>`;return}else e.type==="link"?t+=`<a href="${e.url}">${r(e.children)}</a>`:e.type==="list"?t+=o(e):e.type==="list-item"?t+=`<li>${r(e.children)}</li>`:e.type==="image"&&(t+=`<img src="${e.image.url}" alt="${e.image.alternativeText||void 0}" />`)}),t},$=window.location;let g=new URLSearchParams($.search);document.addEventListener("DOMContentLoaded",async()=>{let t=await(await fetch(m+"/api/projects/"+g.get("p")+"?populate=*")).json();v(t);const e=document.getElementById("content");e&&(e.hidden=!1)});document.addEventListener("keydown",n=>{n.key=="Escape"&&parent.leaveOS();const t=new Audio("/sounds/keyboard-press.mp3");t.preservesPitch=!1,t.volume=.1,t.playbackRate=Math.random()/(1/.1)+.9,t.play()});document.addEventListener("mousedown",()=>{const n=new Audio("/sounds/mouse-click.mp3");n.preservesPitch=!1,n.volume=.3,n.playbackRate=Math.random()/(1/.1)+.9,n.play()});function v(n){const t=document.getElementById("title"),e=document.getElementById("description");t!=null&&(t.innerText=n.data.Title),e!=null&&(e.innerHTML=y(n.data.Description))}const f=document.querySelector(".dialog-header");f?.addEventListener("mousedown",w);f?.addEventListener("mouseup",x);document.addEventListener("mousemove",L);const E=document.getElementById("quit-desktop");E?.addEventListener("click",()=>parent.leaveOS());const s=document.getElementById("window");let d=!1,l={x:0,y:0},i={x:0,y:0};function w(){if(s!=null){var n=s.getBoundingClientRect();l.y=i.y-n.top,l.x=i.x-n.left,d=!0}}function x(){d=!1}function L(n){i.x=n.x,i.y=n.y,!(s==null||d==!1)&&(s.style.top=i.y-l.y+"px",s.style.left=i.x-l.x+"px")}
